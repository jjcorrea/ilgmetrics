{% extends "base.html" %}

{% block extrahead %}

<script type="text/javascript">
$(function () {
	    //$('#datatable').dataTable();
	    $('.datepick').datepicker({ dateFormat: "dd/mm/yy" });
	
	    /*
	    	
	    $('#stacked').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Services share'
            },
            xAxis: {
                categories: ['Alert', 'Autocomplete', 'Chemistry', 'Export', 'Export-Investex', 'Export-Search', 'Ontology', 'Retrieve', 'Retrieve-Regulatory', 'Search', 'Storage', 'TI Wrapper']
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Services share per team'
                }
            },
            legend: {
                backgroundColor: '#FFFFFF',
                reversed: true
            },
            plotOptions: {
                series: {
                    stacking: 'normal'
                }
            },
                series: [
            {
                name: 'SPARTA',
                data: [2, 2, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0]
            }, {
                name: 'KOALA',
                data: [3, 4, 4, 2, 5, 0, 0, 0, 0, 0, 0, 0]
            },{
                name: 'DRIVE',
                data: [5, 3, 4, 7, 2, 0, 0, 0, 0, 0, 0, 0]
            },
            {
                name: 'BARCELONA',
                data: [3, 4, 4, 2, 5, 0, 0, 0, 0, 0, 0, 0]
            }]
        });	    
	    */
	    
	   	// workstream share
	    $('#workstream').highcharts({
	        chart: {
	            plotBackgroundColor: null,
	            plotBorderWidth: null,
	            plotShadow: false
	        },
	        title: {
	            text: 'Workstream Share'
	        },
	        tooltip: {
	    	    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	        },
	        plotOptions: {
	            pie: {
	                allowPointSelect: true,
	                cursor: 'pointer',
	                dataLabels: {
	                    enabled: true,
	                    color: '#000000',
	                    connectorColor: '#000000',
	                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
	                }
	            }
	        },
	        series: [{
	            type: 'pie',
	            name: 'Workstream share',
	            data: [
					{% for key,value in workstream_share.items %}
						['{{key}}', {{value}}],
					{% endfor %}
	            ]
	        }]
	    });
	
	
});
</script>
{% endblock %}

{% block content %}
	<div id="stacked"></div>
	<hr />
	<div id="workstream"></div>
{% endblock %}
